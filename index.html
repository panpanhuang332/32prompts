<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ICS Prompt Lab Pro</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        // è¨­å®š Tailwind æ”¯æ´æ·±è‰²æ¨¡å¼
        tailwind.config = {
            darkMode: 'media', 
        }
    </script>

    <style>
        body { -webkit-tap-highlight-color: transparent; transition: background-color 0.3s ease; }
        .app-card { border-radius: 32px; transition: all 0.3s ease; }
        /* ç»ç’ƒæ“¬æ…‹æ•ˆæœ */
        .glass-panel { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); }
        @media (prefers-color-scheme: dark) {
            body { background-color: #0f172a; }
            .glass-panel { background: rgba(30, 41, 59, 0.7); border: 1px solid rgba(255, 255, 255, 0.1); }
        }
    </style>
</head>
<body class="p-4 bg-slate-50 dark:bg-slate-900 flex justify-center items-start min-h-screen">

    <div class="w-full max-w-md bg-white dark:bg-slate-800 app-card shadow-2xl overflow-hidden border border-gray-100 dark:border-slate-700">
        <div class="p-8 bg-gradient-to-br from-indigo-600 to-purple-700 text-white relative">
            <h1 class="text-3xl font-black flex items-center gap-3">
                <i class="fas fa-wand-magic-sparkles text-yellow-300"></i> ICS Lab Pro
            </h1>
            <p class="text-indigo-100 text-xs mt-2 font-medium tracking-widest opacity-80 uppercase">V2.0 UX Optimized</p>
        </div>

        <div class="p-6 space-y-8">
            <section>
                <label class="text-[10px] font-black text-indigo-500 dark:text-indigo-400 mb-3 block tracking-[0.2em] uppercase">Step 01. é¸æ“‡é¡å‹</label>
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="vibrate(); setType('infographic', this)" class="type-btn ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-2xl text-indigo-700 dark:text-indigo-300 text-sm font-bold transition-all">è³‡è¨Šåœ–è¡¨</button>
                    <button onclick="vibrate(); setType('diagram', this)" class="type-btn border border-gray-200 dark:border-slate-700 p-3 rounded-2xl text-gray-500 dark:text-slate-400 text-sm font-medium transition-all">åŠŸèƒ½åœ–è§£</button>
                </div>
            </section>

            <section>
                <label class="text-[10px] font-black text-indigo-500 dark:text-indigo-400 mb-3 block tracking-[0.2em] uppercase">Step 02. è¼¸å…¥å…§å®¹</label>
                <textarea id="content" rows="2" placeholder="ä½ æƒ³å‘ˆç¾ä»€éº¼ä¸»é¡Œï¼Ÿ" 
                       class="w-full p-4 bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-slate-700 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-gray-700 dark:text-slate-200 transition-all"></textarea>
            </section>

            <section>
                <label class="text-[10px] font-black text-indigo-500 dark:text-indigo-400 mb-3 block tracking-[0.2em] uppercase">Step 03. é¢¨æ ¼é è¦½</label>
                <select id="style" onchange="updatePreview()" class="w-full p-4 bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-slate-700 rounded-2xl font-bold text-gray-700 dark:text-slate-200 mb-4 outline-none appearance-none">
                    <option value="" disabled selected>è«‹é¸æ“‡è¦–è¦ºé¢¨æ ¼...</option>
                    <optgroup label="ğŸ’¼ å°ˆæ¥­å•†å‹™">
                        <option value="McKinsey">é¡§å•é¢¨ McKinsey</option>
                        <option value="Minimalist">æ¥µç°¡é¢¨ Minimalist</option>
                    </optgroup>
                    <optgroup label="ğŸ¨ æ’ç•«è—è¡“">
                        <option value="Isometric 3D">ç­‰è·é¢¨ Isometric 3D</option>
                        <option value="Claymation">é»åœŸé¢¨ Claymation</option>
                    </optgroup>
                    </select>

                <div id="previewCard" class="hidden p-4 rounded-2xl glass-panel border border-indigo-100 dark:border-indigo-900/50">
                    <div class="flex items-start gap-3">
                        <div class="bg-indigo-500 text-white p-2 rounded-lg text-xs"><i class="fas fa-info-circle"></i></div>
                        <div>
                            <h4 id="previewTitle" class="text-sm font-bold text-gray-800 dark:text-slate-100"></h4>
                            <p id="previewText" class="text-xs text-gray-500 dark:text-slate-400 mt-1 leading-relaxed"></p>
                        </div>
                    </div>
                </div>
            </section>

            <button onclick="vibrate(); generate()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-lg shadow-indigo-200 dark:shadow-none transition-all active:scale-[0.95] flex justify-center items-center gap-2 text-lg">
                ç”Ÿæˆæ‡¶äººæŒ‡ä»¤ <i class="fas fa-magic"></i>
            </button>

            <div id="resultBox" class="hidden">
                <div class="bg-slate-900 rounded-3xl p-6 border border-slate-700">
                    <p id="finalPrompt" class="text-indigo-300 text-xs font-mono whitespace-pre-line leading-relaxed mb-4"></p>
                    <button onclick="vibrate(); copyText(this)" class="w-full bg-slate-800 hover:bg-slate-700 text-white text-sm font-bold py-3 rounded-xl border border-slate-700 transition-all">
                        <i class="far fa-copy mr-1"></i> è¤‡è£½æŒ‡ä»¤
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedType = 'infographic';
        const styleSpecs = {
            "McKinsey": "å°ˆæ¥­å•†å‹™æ¡†æ¶ï¼Œä¼æ¥­è—é…è‰²ï¼Œä¹¾æ·¨çš„æ•¸æ“šè¦–è¦ºåŒ–ï¼Œçµæ§‹åŒ–ä½ˆå±€ã€‚",
            "Minimalist": "å¤§é‡ç•™ç™½ï¼Œç°¡å–®å¹¾ä½•åœ–å½¢ï¼Œé«˜å°æ¯”å–®è‰²èª¿ï¼Œæ¥µè‡´ç´”æ·¨æ„Ÿã€‚",
            "Isometric 3D": "30åº¦ç­‰è·è¦–è§’ï¼Œå †ç–Šçš„å¹¾ä½•æ–¹å¡Šï¼Œæ¸…æ™°çš„ç«‹é«”é™°å½±å±¤æ¬¡ã€‚",
            "Claymation": "3D é»åœŸè³ªæ„Ÿï¼Œè¡¨é¢å¯è¦‹æŒ‡ç´‹ç—•è·¡ï¼ŒæŸ”å’Œçš„å®šæ ¼å‹•ç•«ç‡ˆå…‰ã€‚"
        };

        function vibrate() {
            if (window.navigator && window.navigator.vibrate) {
                window.navigator.vibrate(10); // çŸ­éœ‡å‹• 10 æ¯«ç§’
            }
        }

        function setType(type, btn) {
            selectedType = type;
            document.querySelectorAll('.type-btn').forEach(b => {
                b.className = 'type-btn border border-gray-200 dark:border-slate-700 p-3 rounded-2xl text-gray-500 dark:text-slate-400 text-sm font-medium transition-all';
            });
            btn.className = 'type-btn ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-2xl text-indigo-700 dark:text-indigo-300 text-sm font-bold transition-all';
        }

        function updatePreview() {
            const style = document.getElementById('style').value;
            const card = document.getElementById('previewCard');
            if(styleSpecs[style]) {
                document.getElementById('previewTitle').innerText = style + " é¢¨æ ¼ç‰¹é»";
                document.getElementById('previewText').innerText = styleSpecs[style];
                card.classList.remove('hidden');
            }
        }

        function generate() {
            const content = document.getElementById('content').value || "Home Organization Tips";
            const style = document.getElementById('style').value;
            if(!style) return alert('è«‹å…ˆé¸æ“‡é¢¨æ ¼');
            
            const prompt = `Create a ${style} style ${selectedType} about '${content}'. \nAspect ratio: 9:16 vertical`;
            document.getElementById('finalPrompt').innerText = prompt;
            document.getElementById('resultBox').classList.remove('hidden');
            document.getElementById('resultBox').scrollIntoView({ behavior: 'smooth' });
        }

        function copyText(btn) {
            const text = document.getElementById('finalPrompt').innerText;
            navigator.clipboard.writeText(text);
            const originalText = btn.innerHTML;
            btn.innerHTML = 'âœ… å·²è¤‡è£½';
            setTimeout(() => btn.innerHTML = originalText, 2000);
        }

        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
