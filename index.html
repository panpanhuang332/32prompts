<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MJ æç¤ºè©ç”¢ç”Ÿå™¨ (å®Œæ•´ç‰ˆ)</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* --- æ ¸å¿ƒä½ˆå±€æ¨£å¼ --- */
        body {
            background-color: #f0f2f5;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* 1. é ‚éƒ¨å€åŸŸ */
        .app-header {
            background: white;
            padding: 15px 15px 0 15px;
            box-shadow: 0 1px 5px rgba(0,0,0,0.05);
            z-index: 10;
            flex-shrink: 0;
        }

        /* 2. åˆ†é æ¨™ç±¤æ¨£å¼ */
        .nav-tabs {
            border-bottom: none;
            flex-wrap: nowrap;
            overflow-x: auto;
            white-space: nowrap;
            gap: 5px;
            padding-bottom: 5px;
        }
        
        .nav-tabs .nav-link {
            border: none;
            color: #6c757d;
            font-size: 0.95rem;
            padding: 8px 12px;
            border-radius: 20px;
            background-color: #f8f9fa;
            transition: all 0.2s;
        }
        
        .nav-tabs .nav-link.active {
            color: white;
            background-color: #0d6efd;
            font-weight: bold;
        }

        /* 3. ä¸­é–“å…§å®¹å€åŸŸ */
        .app-content {
            flex-grow: 1;
            overflow-y: auto;
            padding: 15px;
            background-color: #f0f2f5;
            scroll-behavior: smooth;
        }

        .tab-content-area {
            display: none;
            animation: fadeIn 0.3s;
        }
        
        .tab-content-area.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .category-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
        }
        
        .category-title {
            font-size: 0.9rem;
            font-weight: bold;
            color: #343a40;
            margin-bottom: 8px;
            display: block;
            border-left: 4px solid #0d6efd;
            padding-left: 8px;
        }

        /* 4. åº•éƒ¨å€åŸŸ */
        .app-footer {
            background: white;
            padding: 10px 15px;
            border-top: 1px solid #dee2e6;
            flex-shrink: 0;
            z-index: 20;
            padding-bottom: max(10px, env(safe-area-inset-bottom));
        }

        .loading-text { font-size: 0.8em; color: #0d6efd; margin-top: 5px; display: none; }
        .form-select { background-color: #f8f9fa; border: 1px solid #e9ecef; }
        .nav-tabs::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>

    <div class="app-header">
        <h6 class="mb-2 fw-bold text-dark">ğŸ¨ MJ æç¤ºè©ç”¢ç”Ÿå™¨ (OXXO å…¨æ”¶éŒ„)</h6>
        
        <div class="mb-2">
            <div class="input-group">
                <input type="text" class="form-control" id="mainSubject" placeholder="æè¿°ç•«é¢ä¸»é«” (æ”¯æ´ä¸­æ–‡)...">
                <button class="btn btn-outline-primary" type="button" id="translateBtn" onclick="translateInput()">
                    ä¸­ç¿»è‹±
                </button>
            </div>
            <div id="translationStatus" class="loading-text">æ­£åœ¨ç¿»è­¯ä¸­...</div>
        </div>

        <div class="nav nav-tabs" id="myTab" role="tablist">
            <button class="nav-link active" onclick="switchTab(this, 'page-settings')">âš™ï¸ è¨­å®š</button>
            <button class="nav-link" onclick="switchTab(this, 'page-photo')">ğŸ“¸ æ”å½±</button>
            <button class="nav-link" onclick="switchTab(this, 'page-art')">ğŸ–Œï¸ è—è¡“</button>
            <button class="nav-link" onclick="switchTab(this, 'page-anime')">ğŸ§¸ å‹•æ¼«/è¨­è¨ˆ</button>
        </div>
    </div>

    <div class="app-content">
        
        <div id="page-settings" class="tab-content-area active">
            <div class="category-card">
                <label class="category-title">ğŸ“ åœ–ç‰‡æ¯”ä¾‹ (Aspect Ratio)</label>
                <select class="form-select" id="aspectRatio">
                    <option value="" selected>1:1 (é è¨­æ­£æ–¹å½¢)</option>
                    <optgroup label="æ©«å‘">
                        <option value="--ar 16:9">16:9 (å¯¬è¢å¹•/YT)</option>
                        <option value="--ar 21:9">21:9 (Notionå°é¢)</option>
                        <option value="--ar 4:3">4:3 (æ¨™æº–ç…§ç‰‡)</option>
                        <option value="--ar 3:2">3:2 (åº•ç‰‡)</option>
                    </optgroup>
                    <optgroup label="ç›´å‘">
                        <option value="--ar 4:5">4:5 (IG è²¼æ–‡)</option>
                        <option value="--ar 3:4">3:4 (ç›´å¼ç…§ç‰‡)</option>
                        <option value="--ar 9:16">9:16 (é™å‹•/Reels)</option>
                    </optgroup>
                </select>
            </div>

            <div class="category-card">
                <label class="category-title">ğŸ’ è§£æåº¦ (Resolution)</label>
                <select class="form-select" id="pixelResolution">
                    <option value="" selected>é è¨­</option>
                    <optgroup label="ç¤¾ç¾¤/è¢å¹•">
                        <option value="1080x1080 px, high quality">IG æ­£æ–¹å½¢ (1080p)</option>
                        <option value="1080x1920 px, full screen">IG é™å‹• (Full HD)</option>
                        <option value="3840x2160 px, 4K UHD">4K è¶…é«˜ç•«è³ª</option>
                    </optgroup>
                    <optgroup label="å°åˆ·/æ”å½±">
                        <option value="2480x3508 px, 300DPI">A4 å°åˆ·è¦æ ¼</option>
                        <option value="6000x4000 px, 24MP">2400 è¬åƒç´ </option>
                    </optgroup>
                </select>
            </div>
            
            <div class="text-center text-muted small mt-4 p-3">
                <p>è³‡æ–™ä¾†æºï¼š[steam.oxxostudio.tw] <br>å·²æ”¶éŒ„è©²ç¶²ç«™æ‰€æœ‰æç¤ºè©åˆ†é¡ã€‚</p>
            </div>
        </div>

        <div id="page-photo" class="tab-content-area">
            <div id="container-photo"></div>
        </div>

        <div id="page-art" class="tab-content-area">
            <div id="container-art"></div>
        </div>

        <div id="page-anime" class="tab-content-area">
            <div id="container-anime"></div>
        </div>

    </div>

    <div class="app-footer">
        <div class="d-grid gap-2 mb-2">
            <button class="btn btn-primary fw-bold" onclick="generatePrompt()">
                âœ¨ ç”¢å‡ºæç¤ºè©
            </button>
        </div>
        <div class="input-group input-group-sm">
            <textarea class="form-control" id="outputPrompt" rows="1" readonly placeholder="æç¤ºè©å°‡é¡¯ç¤ºæ–¼æ­¤" style="resize: none;"></textarea>
            <button class="btn btn-outline-secondary" type="button" onclick="copyToClipboard()">è¤‡è£½</button>
        </div>
    </div>

<script>
    // --- 1. åˆ†é åˆ‡æ›é‚è¼¯ ---
    function switchTab(btn, targetId) {
        document.querySelectorAll('.nav-link').forEach(b => {
            b.classList.remove('active');
            b.style.backgroundColor = '#f8f9fa';
            b.style.color = '#6c757d';
        });
        btn.classList.add('active');
        btn.style.backgroundColor = '#0d6efd';
        btn.style.color = 'white';

        document.querySelectorAll('.tab-content-area').forEach(div => div.classList.remove('active'));
        const targetDiv = document.getElementById(targetId);
        if (targetDiv) targetDiv.classList.add('active');
    }

    // --- 2. å®Œæ•´è³‡æ–™åº« (ä¾æ“š OXXO ç¶²ç«™å…¨æ”¶éŒ„) ---
    const categorizedData = {
        "photo": { 
            "æ”å½±é¡å‹ (Types)": [
                {val: "photo", label: "ç…§ç‰‡ (photo)"}, {val: "photography", label: "æ”å½± (photography)"},
                {val: "life photo", label: "ç”Ÿæ´»ç…§ (life photo)"}, {val: "group photo", label: "åœ˜é«”ç…§ (group photo)"},
                {val: "selfie photo", label: "è‡ªæ‹ç…§ (selfie photo)"}, {val: "group selfie photo", label: "åœ˜é«”è‡ªæ‹ (group selfie)"},
                {val: "portrait photography", label: "äººåƒæ”å½± (portrait)"}, {val: "sports photography", label: "é‹å‹•æ”å½± (sports)"},
                {val: "still life photo", label: "éœç‰©æ”å½± (still life)"}
            ],
            "æ”å½±é¢¨æ ¼ (Styles)": [
                {val: "DSLR style", label: "æ•¸ä½å–®çœ¼ (DSLR)"}, {val: "Polaroid style", label: "æ‹ç«‹å¾— (Polaroid)"},
                {val: "gopro style", label: "GoPro é¢¨æ ¼"}, {val: "Fujifilm superia style", label: "å¯Œå£«åº•ç‰‡ (Fujifilm)"},
                {val: "LOMO style", label: "LOMO é¢¨æ ¼"}, {val: "B/W style", label: "é»‘ç™½ç…§ç‰‡ (B/W)"},
                {val: "movie style", label: "é›»å½±é¢¨ (movie)"}, {val: "cinematic photo style", label: "åŠ‡ç…§ (cinematic)"},
                {val: "vintage photo style", label: "å¾©å¤ç…§ç‰‡ (vintage)"}, {val: "antique photo style", label: "ä»¿å¤ç…§ç‰‡ (antique)"},
                {val: "Calotype print", label: "ç´™åŸºè² ç‰‡ (Calotype)"}, {val: "Holga photography", label: "Holga ç›¸æ©Ÿ"},
                {val: "Albumen print", label: "è›‹ç™½æ˜ åƒ (Albumen)"}, {val: "Anthotype print", label: "æ¤ç‰©æ„Ÿå…‰ (Anthotype)"}
            ],
            "é¡é ­èˆ‡å…‰å½± (Lens & Light)": [
                {val: "macro lens", label: "å¾®è·é¡é ­ (macro)"}, {val: "prime lens", label: "å®šç„¦é¡é ­ (prime)"},
                {val: "wide angle lens", label: "å»£è§’é¡é ­ (wide angle)"}, {val: "fish eye lens", label: "é­šçœ¼é¡é ­ (fish eye)"},
                {val: "tilt shift lens", label: "ç§»è»¸é¡é ­ (tilt shift)"}, {val: "long focal length lens", label: "æœ›é é¡é ­"},
                {val: "bokeh", label: "æ•£æ™¯/æ™¯æ·± (bokeh)"}, {val: "lens flare", label: "é¡é ­çœ©å…‰ (flare)"},
                {val: "magic hour", label: "é­”å¹»æ™‚åˆ» (magic hour)"}, {val: "golden hour", label: "é»ƒé‡‘æ™‚åˆ» (golden hour)"},
                {val: "blue hour", label: "è—è‰²æ™‚åˆ» (blue hour)"}, {val: "ambient light", label: "ç’°å¢ƒå…‰ (ambient)"},
                {val: "hard light", label: "ç¡¬å…‰ (hard light)"}, {val: "soft light", label: "æŸ”å…‰ (soft light)"},
                {val: "back light", label: "èƒŒå…‰ (back light)"}, {val: "rim light", label: "è¼ªå»“å…‰ (rim light)"},
                {val: "multiple exposure", label: "é‡è¤‡æ›å…‰"}, {val: "motion blur", label: "å‹•æ…‹æ¨¡ç³Š"},
                {val: "panning", label: "å¹³ç§»æ‹æ”"}, {val: "HDR", label: "é«˜å‹•æ…‹ç¯„åœ (HDR)"}
            ],
            "ç•«é¢è§’åº¦ (Angles)": [
                {val: "facial features extreme close up", label: "äº”å®˜è¶…ç‰¹å¯«"}, {val: "face close-up", label: "è‡‰éƒ¨ç‰¹å¯«"},
                {val: "face shot", label: "è‡‰éƒ¨ç…§"}, {val: "chest shot", label: "èƒ¸ä¸Šç…§"},
                {val: "full body shot", label: "å…¨èº«ç…§"}, {val: "far away shot", label: "é è™•æ‹æ”"},
                {val: "front view", label: "æ­£é¢ç…§"}, {val: "side view", label: "å´é¢ç…§"},
                {val: "low angle view", label: "ä½è§’åº¦/ä»°è¦–"}, {val: "high angle view", label: "é«˜è§’åº¦/ä¿¯è¦–"},
                {val: "bird view", label: "é³¥ç°è¦–è§’"}, {val: "satellite view", label: "è¡›æ˜Ÿè¦–è§’"},
                {val: "the first person view", label: "ç¬¬ä¸€äººç¨±"}, {val: "knolling", label: "é–‹ç®±ç…§/å¹³é‹ª"},
                {val: "product view", label: "ç”¢å“ç‰¹å¯«"}, {val: "microscope view", label: "é¡¯å¾®é¡è¦–è§’"},
                {val: "X-ray view", label: "Xå…‰ç‰‡é¢¨æ ¼"}, {val: "360 degrees photo", label: "360åº¦ç…§ç‰‡"}
            ]
        },
        "art": { 
            "ç¹ªç•«åª’æ (Mediums)": [
                {val: "pencil", label: "é‰›ç­†ç•«"}, {val: "charcoal", label: "ç‚­ç­†ç•«"},
                {val: "color pencil", label: "è‰²é‰›ç­†"}, {val: "rollerball pen", label: "åŸå­ç­†"},
                {val: "chalk", label: "ç²‰ç­†"}, {val: "crayon", label: "è Ÿç­†"},
                {val: "sketch", label: "è‰åœ–"}, {val: "doodle", label: "å¡—é´‰"},
                {val: "illustration", label: "æ’ç•«"}, {val: "marker pen", label: "éº¥å…‹ç­†"},
                {val: "acrylic painting", label: "å£“å…‹åŠ›ç•«"}, {val: "watercolor painting", label: "æ°´å½©ç•«"},
                {val: "oil painting", label: "æ²¹ç•«"}, {val: "ink drawing", label: "æ°´å¢¨ç•«"},
                {val: "splashed ink", label: "æ½‘å¢¨ç•«"}, {val: "Gongbi painting", label: "å·¥ç­†ç•«"},
                {val: "Woodcut", label: "æœ¨åˆ»ç‰ˆç•«"}, {val: "one line drawing", label: "å–®ç·šç•«"}
            ],
            "ç‰¹æ®Šæè³ª (Materials)": [
                {val: "paper art", label: "ç´™é›•"}, {val: "pop-up book", label: "ç«‹é«”æ›¸"},
                {val: "origami art", label: "æ‘ºç´™"}, {val: "paper cutting", label: "å‰ªç´™"},
                {val: "stained glass", label: "å½©ç¹ªç»ç’ƒ"}, {val: "mosaic", label: "é¦¬è³½å…‹"},
                {val: "pixel art", label: "åƒç´ ç•«"}, {val: "Low poly", label: "ä½å¤šé‚Šå½¢"},
                {val: "wood carving", label: "æœ¨é›•"}, {val: "stone carving", label: "çŸ³é›•"},
                {val: "jade material", label: "ç‰çŸ³æè³ª"}, {val: "ceramics meterial", label: "é™¶ç“·"},
                {val: "metal arts", label: "é‡‘å±¬è—è¡“"}, {val: "sand sculpture", label: "æ²™é›•"},
                {val: "lego", label: "æ¨‚é«˜"}, {val: "Play-Doh clay", label: "åŸ¹æ¨‚å¤šé»åœŸ"},
                {val: "felt doll", label: "ç¾Šæ¯›æ°ˆ"}, {val: "neon light", label: "éœ“è™¹ç‡ˆ"},
                {val: "ASCII art", label: "ASCII ä»£ç¢¼ç•«"}
            ],
            "è—è¡“æµæ´¾ (Movements)": [
                {val: "Renaissance", label: "æ–‡è—å¾©èˆˆ"}, {val: "Baroque art", label: "å·´æ´›å…‹"},
                {val: "Impressionnisme", label: "å°è±¡æ´¾"}, {val: "Surrealism", label: "è¶…ç¾å¯¦ä¸»ç¾©"},
                {val: "Cubism", label: "ç«‹é«”ä¸»ç¾©"}, {val: "Pop Art", label: "æ™®æ™®è—è¡“"},
                {val: "Minimalism", label: "æ¥µç°¡ä¸»ç¾©"}, {val: "Abstract Expressionism", label: "æŠ½è±¡è¡¨ç¾"},
                {val: "Cyber Art", label: "è³½åšè—è¡“"}, {val: "Steampunk", label: "è’¸æ°£é¾å…‹"},
                {val: "Ukiyo-e", label: "æµ®ä¸–ç¹ª"}, {val: "Yamato-e", label: "å¤§å’Œç¹ª"},
                {val: "ancient Egyptian Art", label: "å¤åŸƒåŠè—è¡“"}, {val: "Lascaux", label: "æ‹‰æ–¯ç§‘å£ç•«"}
            ],
            "è—è¡“å®¶ (Artists)": [
                {val: "Vincent van Gogh", label: "æ¢µè°·"}, {val: "Leonardo da Vinci", label: "é”æ–‡è¥¿"},
                {val: "Picasso", label: "ç•¢å¡ç´¢"}, {val: "Dali", label: "é”åˆ©"},
                {val: "Monet", label: "è«å…§"}, {val: "Mucha", label: "æ…•å¤"},
                {val: "Andy Warhol", label: "å®‰è¿ªæ²ƒè·"}, {val: "Hayao Miyazaki", label: "å®®å´é§¿"},
                {val: "Makoto Shinkai", label: "æ–°æµ·èª "}, {val: "Katsushika Hokusai", label: "è‘›é£¾åŒ—é½‹"},
                {val: "Yayoi Kusama", label: "è‰é–“å½Œç”Ÿ"}, {val: "Murakami Takashi", label: "æ‘ä¸Šéš†"},
                {val: "Ninagawa Mika", label: "èœ·å·å¯¦èŠ±"}, {val: "Yoshitomo Nara", label: "å¥ˆè‰¯ç¾æ™º"}
            ]
        },
        "anime": { 
            "å‹•æ¼«é¡å‹ (Types)": [
                {val: "2D cartoon", label: "2D å¡é€š"}, {val: "3D cartoon", label: "3D å¡é€š"},
                {val: "2D animation", label: "2D å‹•ç•«"}, {val: "3D animation", label: "3D å‹•ç•«"},
                {val: "American comic book", label: "ç¾å¼æ¼«ç•«"}, {val: "Manga", label: "æ—¥å¼æ¼«ç•«"}
            ],
            "å‹•ç•«å…¬å¸ (Studios)": [
                {val: "Pixar Animation", label: "çš®å…‹æ–¯ (Pixar)"}, {val: "DreamWorks Animation", label: "å¤¢å·¥å» "},
                {val: "Walt Disney Animation", label: "è¿ªå£«å°¼ (Disney)"}, {val: "Ghibli Studio", label: "å‰åœåŠ› (Ghibli)"},
                {val: "Toei Animation", label: "æ±æ˜ å‹•ç•«"}, {val: "Kyoto Animation", label: "äº¬éƒ½å‹•ç•«"},
                {val: "Ufotable Animation", label: "Ufotable (é¬¼æ»…)"}, {val: "Marvel Animation", label: "æ¼«å¨ (Marvel)"}
            ],
            "å‹•æ¼«ä½œå“ (Series)": [
                {val: "SpongeBob", label: "æµ·ç¶¿å¯¶å¯¶"}, {val: "Mickey Mouse", label: "ç±³è€é¼ "},
                {val: "The Simpsons", label: "è¾›æ™®æ£®å®¶æ—"}, {val: "Dragon ball", label: "ä¸ƒé¾ç "},
                {val: "Doraemon", label: "å“†å•¦Aå¤¢"}, {val: "Sailor Moon", label: "ç¾å°‘å¥³æˆ°å£«"},
                {val: "kimetsu no Yaiba", label: "é¬¼æ»…ä¹‹åˆƒ"}, {val: "One Piece", label: "æµ·è³Šç‹"},
                {val: "JoJo's Bizarre Adventure", label: "JoJo å†’éšª"}, {val: "Akira", label: "é˜¿åŸºæ‹‰"}
            ],
            "ç‰¹è‰²èˆ‡åƒç´  (Pixel & Style)": [
                {val: "8-bit pixel art", label: "8-bit åƒç´ "}, {val: "16-bit pixel art", label: "16-bit åƒç´ "},
                {val: "Isometric pixel art", label: "ç­‰è·åƒç´  (Isometric)"}, {val: "Voxel art", label: "é«”ç´ è—è¡“"}
            ],
            "è¨­è¨ˆèˆ‡çµæ§‹ (Design)": [
                {val: "mascot logo", label: "å‰ç¥¥ç‰© Logo"}, {val: "Minimal Line logo", label: "æ¥µç°¡ Logo"},
                {val: "Encyclopedia of", label: "ç™¾ç§‘å…¨æ›¸åœ–è§£"}, {val: "3D Model Exploded View", label: "3D åˆ†è§£åœ–"},
                {val: "diagrammatic drawing", label: "ç¤ºæ„åœ–"}, {val: "2D floor plan", label: "2D å¹³é¢åœ–"},
                {val: "3D floor plan", label: "3D å®¤å…§è¨­è¨ˆ"}, {val: "character toy", label: "å…¬ä»”ç©å…·"}
            ]
        }
    };

    function init() {
        for (const [tabKey, categories] of Object.entries(categorizedData)) {
            const container = document.getElementById(`container-${tabKey}`);
            if (!container) continue;
            
            for (const [catName, items] of Object.entries(categories)) {
                const card = document.createElement('div');
                card.className = 'category-card';
                
                const label = document.createElement('label');
                label.className = 'category-title';
                label.textContent = catName;
                card.appendChild(label);
                
                const select = document.createElement('select');
                select.className = 'form-select category-select';
                
                const defaultOpt = document.createElement('option');
                defaultOpt.value = "";
                defaultOpt.textContent = "ä¸æŒ‡å®š";
                select.appendChild(defaultOpt);
                
                items.forEach(item => {
                    const opt = document.createElement('option');
                    opt.value = item.val;
                    opt.textContent = item.label;
                    select.appendChild(opt);
                });
                
                card.appendChild(select);
                container.appendChild(card);
            }
        }
    }

    // --- 3. ç¿»è­¯èˆ‡ç”¢å‡º ---
    async function translateInput() {
        const inputEl = document.getElementById('mainSubject');
        const statusEl = document.getElementById('translationStatus');
        const text = inputEl.value.trim();
        if (!text) return;
        if (!/[\u4e00-\u9fa5]/.test(text)) return text;

        statusEl.style.display = 'block';
        document.getElementById('translateBtn').disabled = true;

        try {
            const response = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=zh-TW|en`);
            const data = await response.json();
            if (data.responseData?.translatedText) {
                inputEl.value = data.responseData.translatedText;
                statusEl.style.display = 'none';
                return data.responseData.translatedText;
            }
        } catch (e) { console.error(e); } 
        finally { 
            document.getElementById('translateBtn').disabled = false;
            statusEl.style.display = 'none';
        }
    }

    async function generatePrompt() {
        let mainSubject = document.getElementById('mainSubject').value.trim();
        const aspectRatio = document.getElementById('aspectRatio').value;
        const pixelRes = document.getElementById('pixelResolution').value;
        const btn = document.querySelector('.btn-primary');

        if (/[\u4e00-\u9fa5]/.test(mainSubject)) {
            const originalText = btn.textContent;
            btn.textContent = "â³ ç¿»è­¯ä¸­...";
            btn.disabled = true;
            mainSubject = await translateInput() || mainSubject;
            btn.textContent = originalText;
            btn.disabled = false;
        }

        let parts = [];
        if (mainSubject) parts.push(mainSubject);
        if (pixelRes) parts.push(pixelRes);

        document.querySelectorAll('.category-select').forEach(select => {
            if (select.value) parts.push(select.value);
        });

        parts.push("--v 6.0");
        if (aspectRatio) parts.push(aspectRatio);

        document.getElementById('outputPrompt').value = parts.join(', ');
    }

    function copyToClipboard() {
        const el = document.getElementById("outputPrompt");
        el.select();
        el.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(el.value);
    }

    init();

    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => navigator.serviceWorker.register('./sw.js'));
    }
</script>
</body>
</html>
