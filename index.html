<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ICS Prompt Lab Pro - V6.6 Encyclopedia</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = { darkMode: 'media' }
    </script>

    <style>
        body { -webkit-tap-highlight-color: transparent; transition: background-color 0.4s ease; }
        .app-card { border-radius: 32px; transition: all 0.3s ease; }
        .gradient-header { background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%); }
        @media (prefers-color-scheme: dark) { body { background-color: #0f172a; } }
        @keyframes dice-roll { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .rolling { animation: dice-roll 0.5s ease-in-out; }
        select { appearance: none; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e"); background-position: right 1.2rem center; background-repeat: no-repeat; background-size: 1.2em; }
        /* å„ªåŒ–é•·é¸å–®åœ¨æ‰‹æ©Ÿä¸Šçš„é¡¯ç¤ºé«”é©— */
        optgroup { font-weight: 800; color: #6366f1; background-color: #f8fafc; }
        @media (prefers-color-scheme: dark) { optgroup { color: #a5b4fc; background-color: #1e293b; } }
        option { font-weight: 500; color: #334155; background-color: #ffffff; padding: 8px; }
        @media (prefers-color-scheme: dark) { option { color: #cbd5e1; background-color: #0f172a; } }
    </style>
</head>
<body class="p-4 bg-slate-50 dark:bg-slate-900 min-h-screen font-sans pb-10 flex justify-center items-start">

    <div class="w-full max-w-md bg-white dark:bg-slate-800 app-card shadow-2xl overflow-hidden border border-gray-100 dark:border-slate-700">
        <div class="p-9 gradient-header text-white relative">
            <h1 class="text-3xl font-black flex items-center gap-3 relative z-10">
                <i class="fas fa-book-atlas text-yellow-300"></i> ICS Lab Pro
            </h1>
            <p class="text-indigo-100 text-[10px] mt-2 font-bold tracking-[0.3em] opacity-90 uppercase relative z-10">V6.6 Style Encyclopedia</p>
            
            <button onclick="randomStyleOnly()" class="absolute bottom-6 right-6 bg-white/20 hover:bg-white/30 backdrop-blur-md p-3 rounded-2xl border border-white/30 transition-all active:scale-90 group shadow-lg">
                <i id="diceIcon" class="fas fa-dice text-2xl text-white group-hover:rotate-12 transition-transform"></i>
            </button>
        </div>

        <div class="p-7 space-y-7">
            <section>
                <label class="text-[10px] font-black text-indigo-500 dark:text-indigo-400 mb-3 block tracking-[0.2em] uppercase">Step 01. åœ–ç‰‡é¡å‹ (Image Type)</label>
                <div class="grid grid-cols-3 gap-2">
                    <button onclick="vibrate(); setType('general', this)" class="type-btn ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/40 p-3 rounded-xl text-indigo-700 dark:text-indigo-300 text-[10px] font-bold transition-all">é€šç”¨åœ–åƒ</button>
                    <button onclick="vibrate(); setType('infographic', this)" class="type-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">è³‡è¨Šåœ–è¡¨</button>
                    <button onclick="vibrate(); setType('diagram', this)" class="type-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">åŠŸèƒ½åœ–è§£</button>
                    <button onclick="vibrate(); setType('flowchart', this)" class="type-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">æµç¨‹åœ–</button>
                    <button onclick="vibrate(); setType('portrait', this)" class="type-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">äººåƒæ”å½±</button>
                    <button onclick="vibrate(); setType('landscape', this)" class="type-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">å£¯é—Šé¢¨æ™¯</button>
                </div>
            </section>

            <section>
                <label class="text-[10px] font-black text-indigo-500 dark:text-indigo-400 mb-3 block tracking-[0.2em] uppercase">Step 02. å…§å®¹ä¸»é¡Œ (Content)</label>
                <textarea id="content" rows="2" placeholder="è¼¸å…¥ä¸»é¡Œå…§å®¹..." 
                       class="w-full p-5 bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-slate-700 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-gray-700 dark:text-slate-200 transition-all text-base shadow-inner"></textarea>
            </section>

            <section>
                <label class="text-[10px] font-black text-indigo-500 dark:text-indigo-400 mb-3 block tracking-[0.2em] uppercase">Step 03. è¦–è¦ºé¢¨æ ¼ (Style Encyclopedia)</label>
                <select id="style" onchange="vibrate(); updatePreview()" class="w-full p-5 bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-slate-700 rounded-2xl font-bold text-gray-700 dark:text-slate-200 mb-4 outline-none text-base shadow-sm max-h-60">
                    <option value="" disabled selected>æ¢ç´¢æ•¸ç™¾ç¨®é¢¨æ ¼...</option>
                    
                    <optgroup label="ğŸ“¸ æ”å½±èˆ‡ç…§ç‰‡ (Photography)">
                        <option value="Photo">æ¨™æº–ç…§ç‰‡ Photo</option>
                        <option value="Cinematic">é›»å½±è³ªæ„Ÿ Cinematic</option>
                        <option value="DSLR">å–®çœ¼ç›¸æ©Ÿ DSLR</option>
                        <option value="Polaroid">æ‹ç«‹å¾— Polaroid</option>
                        <option value="Fujifilm">å¯Œå£«åº•ç‰‡ Fujifilm</option>
                        <option value="Vintage Photo">å¾©å¤è€ç…§ç‰‡ Vintage</option>
                        <option value="Macro lens">å¾®è·é¡é ­ Macro</option>
                        <option value="Wide angle lens">å»£è§’é¡é ­ Wide Angle</option>
                        <option value="Fish eye lens">é­šçœ¼é¡é ­ Fish-eye</option>
                        <option value="Tilt shift lens">ç§»è»¸é¡é ­ Tilt-shift</option>
                        <option value="Golden hour">é»ƒé‡‘æ™‚åˆ»å…‰ Golden Hour</option>
                        <option value="Bokeh">æ•£æ™¯æ•ˆæœ Bokeh</option>
                    </optgroup>

                    <optgroup label="ğŸ–Œï¸ ç¹ªç•«åª’æ (Painting Media)">
                        <option value="Oil Painting">å¤å…¸æ²¹ç•« Oil</option>
                        <option value="Watercolor">é€æ˜æ°´å½© Watercolor</option>
                        <option value="Acrylic Painting">å£“å…‹åŠ›ç•« Acrylic</option>
                        <option value="Sketch">ç´ æè‰åœ– Sketch</option>
                        <option value="Charcoal Drawing">ç‚­ç­†ç•« Charcoal</option>
                        <option value="Ink Drawing">æ°´å¢¨ç•« Ink</option>
                        <option value="Ukiyo-e">æ—¥æœ¬æµ®ä¸–ç¹ª Ukiyo-e</option>
                        <option value="Gongbi Painting">ä¸­åœ‹å·¥ç­†ç•« Gongbi</option>
                        <option value="Printmaking">ç‰ˆç•«é¢¨æ ¼ Printmaking</option>
                        <option value="Fresco">æ¿•å£ç•« Fresco</option>
                    </optgroup>

                    <optgroup label="ğŸ›ï¸ è—è¡“æµæ´¾èˆ‡é¢¨æ ¼ (Art Movements)">
                        <option value="Renaissance">æ–‡è—å¾©èˆˆ Renaissance</option>
                        <option value="Baroque">å·´æ´›å…‹ Baroque</option>
                        <option value="Impressionism">å°è±¡æ´¾ Impressionism</option>
                        <option value="Cubism">ç«‹é«”æ´¾ Cubism</option>
                        <option value="Surrealism">è¶…ç¾å¯¦ä¸»ç¾© Surrealism</option>
                        <option value="Pop Art">æ™®æ™®è—è¡“ Pop Art</option>
                        <option value="Minimalism">æ¥µç°¡ä¸»ç¾© Minimalism</option>
                        <option value="Cyberpunk">è³½åšé¾å…‹ Cyberpunk</option>
                        <option value="Steampunk">è’¸æ°£é¾å…‹ Steampunk</option>
                    </optgroup>

                    <optgroup label="ğŸ¨ è—è¡“å®¶å¤§å¸« (Artists)">
                        <option value="Da Vinci">é”æ–‡è¥¿ Da Vinci</option>
                        <option value="Van Gogh">æ¢µè°· Van Gogh</option>
                        <option value="Picasso">ç•¢å¡ç´¢ Picasso</option>
                        <option value="Dali">é”åˆ© Dali</option>
                        <option value="Monet">è«å…§ Monet</option>
                        <option value="Andy Warhol">å®‰è¿ªæ²ƒè· Warhol</option>
                        <option value="Kusama Yayoi">è‰é–“å½Œç”Ÿ Kusama</option>
                    </optgroup>

                    <optgroup label="ğŸ¬ å‹•ç•«èˆ‡æ¼«ç•« (Anime & Comics)">
                        <option value="Disney Animation">è¿ªå£«å°¼é¢¨æ ¼ Disney</option>
                        <option value="Pixar Animation">çš®å…‹æ–¯ 3D Pixar</option>
                        <option value="Studio Ghibli">å‰åœåŠ›æ‰‹ç¹ª Ghibli</option>
                        <option value="Anime">æ—¥æœ¬å‹•æ¼« Anime</option>
                        <option value="Manga">æ—¥æœ¬æ¼«ç•« Manga</option>
                        <option value="American Comic">ç¾å¼æ¼«ç•« Comic Book</option>
                        <option value="Claymation">é»åœŸå®šæ ¼ Claymation</option>
                    </optgroup>

                    <optgroup label="âœ¨ ç‰¹æ®Šèˆ‡è¨­è¨ˆé¢¨æ ¼ (Special & Design)">
                        <option value="Logo Design">æ¨™èªŒè¨­è¨ˆ Logo</option>
                        <option value="Flat Design">æ‰å¹³è¨­è¨ˆ Flat</option>
                        <option value="Infographic">è³‡è¨Šåœ–è¡¨ Infographic</option>
                        <option value="Blueprint">å·¥ç¨‹è—åœ– Blueprint</option>
                        <option value="Origami">æ‘ºç´™è—è¡“ Origami</option>
                        <option value="Paper Cutout">å‰ªç´™è—è¡“ Paper Cut</option>
                        <option value="Pixel Art">åƒç´ è—è¡“ Pixel Art</option>
                        <option value="Isometric 3D">ç­‰è·ç«‹é«” Isometric</option>
                        <option value="Low Poly">ä½å¤šé‚Šå½¢ Low Poly</option>
                        <option value="3D Render">é«˜å“è³ª 3D æ¸²æŸ“</option>
                        <option value="LEGO">æ¨‚é«˜ç©æœ¨ LEGO</option>
                    </optgroup>
                     <optgroup label="ğŸ’¼ å°ˆæ¥­å•†å‹™æ‡‰ç”¨ (Business)">
                        <option value="McKinsey">é¡§å•é¢¨ McKinsey</option>
                        <option value="Corporate">ä¼æ¥­è³ªæ„Ÿ Corporate</option>
                        <option value="Professional">å°ˆæ¥­ç°¡å ± Professional</option>
                    </optgroup>
                </select>

                <div id="previewCard" class="hidden p-4 rounded-2xl bg-indigo-50 dark:bg-slate-900 border border-indigo-100 dark:border-slate-700 animate-in fade-in slide-in-from-top-2 duration-300">
                    <p id="previewText" class="text-xs text-indigo-700 dark:text-indigo-300 leading-relaxed font-bold"></p>
                </div>
            </section>

            <section>
                <label class="text-[10px] font-black text-indigo-500 dark:text-indigo-400 mb-3 block tracking-[0.2em] uppercase">Step 04. é•·å¯¬æ¯”ä¾‹ (Aspect Ratio)</label>
                <div class="grid grid-cols-3 gap-2">
                    <button onclick="setRatio('1:1', this)" class="ratio-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">1:1 (è²¼æ–‡)</button>
                    <button onclick="setRatio('4:5', this)" class="ratio-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">4:5 (IGå‚ç›´)</button>
                    <button id="defaultRatioBtn" onclick="setRatio('9:16', this)" class="ratio-btn ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/40 p-3 rounded-xl text-indigo-700 dark:text-indigo-300 text-[10px] font-bold transition-all shadow-sm">9:16 (çŸ­å½±éŸ³)</button>
                    <button onclick="setRatio('16:9', this)" class="ratio-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">16:9 (å½±ç‰‡)</button>
                    <button onclick="setRatio('3:2', this)" class="ratio-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">3:2 (æ”å½±)</button>
                    <button onclick="setRatio('21:9', this)" class="ratio-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">21:9 (Notion)</button>
                </div>
                <div id="arHint" class="mt-2 text-[9px] text-gray-400 dark:text-slate-500 italic text-center">é©ç”¨ï¼šReelsã€TikTokã€Stories æ‰‹æ©Ÿå…¨è¢å¹•é«”é©—ã€‚</div>
            </section>

            <button onclick="vibrate(); generate()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl transition-all active:scale-[0.96] flex justify-center items-center gap-2 text-lg">
                ç”Ÿæˆæ‡¶äººæŒ‡ä»¤ <i class="fas fa-magic"></i>
            </button>

            <div id="resultBox" class="hidden animate-in zoom-in-95 duration-300">
                <div class="bg-slate-900 rounded-[2rem] p-7 border border-slate-700 shadow-2xl relative">
                    <p id="finalPrompt" class="text-indigo-200 text-xs font-mono whitespace-pre-line leading-relaxed bg-slate-950/50 p-5 rounded-2xl border border-white/5 shadow-inner mb-6"></p>
                    <div class="grid grid-cols-3 gap-2">
                        <button onclick="vibrate(); copyText()" class="bg-indigo-600 text-white p-4 rounded-xl text-xs font-black transition active:scale-90 flex flex-col items-center gap-1">
                            <i class="far fa-copy text-lg"></i> è¤‡è£½
                        </button>
                        <button onclick="vibrate(); shareLine()" class="bg-[#06C755] text-white p-4 rounded-xl text-xs font-black transition active:scale-90 flex flex-col items-center gap-1">
                            <i class="fab fa-line text-lg"></i> LINE
                        </button>
                        <button onclick="vibrate(); shareFB()" class="bg-[#1877F2] text-white p-4 rounded-xl text-xs font-black transition active:scale-90 flex flex-col items-center gap-1">
                            <i class="fab fa-facebook text-lg"></i> FB
                        </button>
                    </div>
                </div>
            </div>

            <section id="historySection" class="pt-6">
                <div class="flex items-center justify-between mb-4 px-1">
                    <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest">æ­·å²ç´€éŒ„ (5ç­†)</label>
                    <button onclick="vibrate(); clearHistory()" class="text-[10px] font-bold text-indigo-500">æ¸…é™¤ç´€éŒ„</button>
                </div>
                <div id="historyList" class="space-y-3"></div>
            </section>
        </div>
    </div>

    <script>
        // çµ‚æ¥µé¢¨æ ¼è³‡æ–™åº« (æ ¹æ“šå¿ƒæ™ºåœ–èˆ‡å…ˆå‰è³‡æ–™æ•´åˆ)
        const styleSpecs = {
            // --- æ”å½±èˆ‡ç…§ç‰‡ ---
            "Photo": { spec: "Realistic photography style, clear details, natural lighting.", desc: "æ¨™æº–ç…§ç‰‡ï¼šæœ€å¯«å¯¦é€šç”¨çš„æ”å½±é¢¨æ ¼ã€‚" },
            "Cinematic": { spec: "Cinematic movie still, dramatic lighting, wide aspect ratio, color grading.", desc: "é›»å½±è³ªæ„Ÿï¼šæ¥µå…·æ•…äº‹æ„Ÿèˆ‡æˆ²åŠ‡å¼µåŠ›çš„å…‰å½±ã€‚" },
            "DSLR": { spec: "Shot on DSLR camera, high resolution, sharp focus, professional look.", desc: "å–®çœ¼ç›¸æ©Ÿï¼šå°ˆæ¥­ç›¸æ©Ÿçš„é«˜ç•«è³ªèˆ‡éŠ³åˆ©åº¦ã€‚" },
            "Polaroid": { spec: "Polaroid instant film style, vintage colors, white border frame, faded look.", desc: "æ‹ç«‹å¾—ï¼šå¾©å¤ã€å¸¶æœ‰ç™½æ¡†èˆ‡ç‰¹æ®Šè‰²åã€‚" },
            "Fujifilm": { spec: "Fujifilm film grain, vibrant colors, classic film photography aesthetic.", desc: "å¯Œå£«åº•ç‰‡ï¼šç¶“å…¸çš„è† ç‰‡é¡†ç²’èˆ‡ç™¼è‰²ã€‚" },
            "Vintage Photo": { spec: "Aged vintage photograph, sepia tones, scratches, worn texture.", desc: "å¾©å¤è€ç…§ç‰‡ï¼šæ³›é»ƒã€å¸¶æœ‰æ­²æœˆç—•è·¡çš„è³ªæ„Ÿã€‚" },
            "Macro lens": { spec: "Macro lens photography, extreme close-up, shallow depth of field, incredible details.", desc: "å¾®è·é¡é ­ï¼šæ•æ‰æ¥µå¾®å°ä¸–ç•Œçš„ç´°ç¯€ã€‚" },
            "Wide angle lens": { spec: "Wide angle lens view, expansive landscape, distorted perspective at edges.", desc: "å»£è§’é¡é ­ï¼šè¦–é‡é¼é—Šï¼Œå…·å‚™å¼µåŠ›ã€‚" },
            "Fish eye lens": { spec: "Fish eye lens style, strong barrel distortion, ultra-wide circular view.", desc: "é­šçœ¼é¡é ­ï¼šèª‡å¼µçš„çƒå½¢æ‰­æ›²è¦–è§’ã€‚" },
            "Tilt shift lens": { spec: "Tilt shift lens effect, miniature faking, selective focus planes.", desc: "ç§»è»¸é¡é ­ï¼šè®“ä¸–ç•Œçœ‹èµ·ä¾†åƒå°äººåœ‹æ¨¡å‹ã€‚" },
            "Golden hour": { spec: "Golden hour lighting, warm, soft sunlight, long shadows, magical atmosphere.", desc: "é»ƒé‡‘æ™‚åˆ»å…‰ï¼šæ—¥å‡ºæ—¥è½æ™‚çš„æº«æš–è¿·äººå…‰å½±ã€‚" },
            "Bokeh": { spec: "Photography with strong bokeh, blurred background lights, shallow depth of field.", desc: "æ•£æ™¯æ•ˆæœï¼šèƒŒæ™¯æ¨¡ç³Šçš„ç¾éº—å…‰æ–‘ã€‚" },

            // --- ç¹ªç•«åª’æ ---
            "Oil Painting": { spec: "Classical oil painting style, rich visible brushstrokes, canvas texture.", desc: "å¤å…¸æ²¹ç•«ï¼šæ¿ƒéƒçš„ç­†è§¸èˆ‡ç•«å¸ƒè³ªæ„Ÿã€‚" },
            "Watercolor": { spec: "Watercolor painting, transparent colors, wet-on-wet bleeding, paper texture.", desc: "é€æ˜æ°´å½©ï¼šæ¸…é€çš„æšˆæŸ“èˆ‡æµå‹•æ„Ÿã€‚" },
            "Acrylic Painting": { spec: "Acrylic painting, bold colors, distinct layering, textured finish.", desc: "å£“å…‹åŠ›ç•«ï¼šé®®è±”é£½å’Œï¼Œå…·å‚™å †ç–Šæ„Ÿã€‚" },
            "Sketch": { spec: "Hand-drawn pencil sketch, rough lines, shading with cross-hatching, paper grain.", desc: "ç´ æè‰åœ–ï¼šæ‰‹ç¹ªçš„ç·šæ¢èˆ‡é™°å½±è³ªæ„Ÿã€‚" },
            "Charcoal Drawing": { spec: "Charcoal drawing style, deep blacks, smudged textures, rough paper.", desc: "ç‚­ç­†ç•«ï¼šç²—ç·ã€é«˜å°æ¯”çš„é»‘ç™½é¢¨æ ¼ã€‚" },
            "Ink Drawing": { spec: "Traditional Eastern ink drawing, calligraphy brushstrokes, sumi-e style, negative space.", desc: "æ°´å¢¨ç•«ï¼šå¼·èª¿ç­†å¢¨ç¥éŸ»èˆ‡ç•™ç™½è—è¡“ã€‚" },
            "Ukiyo-e": { spec: "Japanese Ukiyo-e woodblock print style, bold outlines, flat colors, traditional patterns.", desc: "æ—¥æœ¬æµ®ä¸–ç¹ªï¼šç¶“å…¸çš„æœ¨åˆ»ç‰ˆç•«é¢¨æ ¼ã€‚" },
            "Gongbi Painting": { spec: "Chinese Gongbi painting style, meticulous brushwork, highly detailed, elegant colors.", desc: "ä¸­åœ‹å·¥ç­†ç•«ï¼šç²¾è¬¹ç´°è†©çš„å‚³çµ±ç•«é¢¨ã€‚" },
            "Printmaking": { spec: "Linocut or woodcut printmaking style, bold graphic lines, textured ink transfer.", desc: "ç‰ˆç•«é¢¨æ ¼ï¼šæ‰‹å·¥åˆ»å°çš„ç¨ç‰¹è³ªæ„Ÿã€‚" },
            "Fresco": { spec: "Fresco wall painting style, aged plaster texture, muted earthy colors, historical feel.", desc: "æ¿•å£ç•«ï¼šç‰†å£ä¸Šçš„å¤æ¨¸ç°æ³¥è³ªæ„Ÿã€‚" },

            // --- è—è¡“æµæ´¾ ---
            "Renaissance": { spec: "Renaissance art style, classical composition, realistic anatomy, rich colors, sfumato.", desc: "æ–‡è—å¾©èˆˆï¼šå¤å…¸ã€å¯«å¯¦èˆ‡å’Œè«§æ§‹åœ–ã€‚" },
            "Baroque": { spec: "Baroque art style, dramatic high contrast lighting (chiaroscuro), intense emotion, dynamic movement.", desc: "å·´æ´›å…‹ï¼šæˆ²åŠ‡æ€§çš„å…‰å½±èˆ‡å‹•æ…‹æ„Ÿã€‚" },
            "Impressionism": { spec: "Impressionism style, loose brushwork, capturing light and atmosphere, visible strokes.", desc: "å°è±¡æ´¾ï¼šæ•æ‰å…‰å½±è®ŠåŒ–çš„ç¬é–“ç­†è§¸ã€‚" },
            "Cubism": { spec: "Cubism art style, fragmented geometry, multiple viewpoints, abstract forms.", desc: "ç«‹é«”æ´¾ï¼šå¹¾ä½•è§£æ§‹èˆ‡å¤šè¦–è§’é‡çµ„ã€‚" },
            "Surrealism": { spec: "Surrealism art style, dreamlike scenes, illogical juxtapositions, melting forms.", desc: "è¶…ç¾å¯¦ä¸»ç¾©ï¼šå¦‚å¤¢å¢ƒèˆ¬çš„å¥‡å¹»èˆ‡è’èª•ã€‚" },
            "Pop Art": { spec: "Pop Art style, bold colors, comic book aesthetics, halftone dots, repetitive imagery.", desc: "æ™®æ™®è—è¡“ï¼šå¤§è†½é…è‰²èˆ‡æµè¡Œæ–‡åŒ–ç¬¦è™Ÿã€‚" },
            "Minimalism": { spec: "Minimalism art style, extreme simplicity, clean lines, limited color palette, negative space.", desc: "æ¥µç°¡ä¸»ç¾©ï¼šæ¥µè‡´ç°¡ç´„ï¼Œå°‘å³æ˜¯å¤šã€‚" },
            "Cyberpunk": { spec: "Cyberpunk aesthetic, neon lights, high-tech low-life, futuristic cityscape, gritty atmosphere.", desc: "è³½åšé¾å…‹ï¼šéœ“è™¹ç‡ˆèˆ‡æœªä¾†ç§‘æŠ€å»¢åœŸæ„Ÿã€‚" },
            "Steampunk": { spec: "Steampunk aesthetic, Victorian machinery, brass gears, steam powered technology, retro-futurism.", desc: "è’¸æ°£é¾å…‹ï¼šç¶­å¤šåˆ©äºå¼çš„æ©Ÿæ¢°ç¾å­¸ã€‚" },

            // --- è—è¡“å®¶å¤§å¸« ---
            "Da Vinci": { spec: "Style of Leonardo da Vinci, sepia ink sketches, anatomical studies, engineering diagrams, aged paper.", desc: "é”æ–‡è¥¿ï¼šå¤è€æ‰‹ç¨¿èˆ‡ç²¾å¯†ç´ æã€‚" },
            "Van Gogh": { spec: "Style of Vincent van Gogh, expressive swirling brushstrokes, thick impasto paint, emotional colors.", desc: "æ¢µè°·ï¼šå……æ»¿æƒ…æ„Ÿçš„å¼·çƒˆæ—‹è½‰ç­†è§¸ã€‚" },
            "Picasso": { spec: "Style of Pablo Picasso, Cubist fragmentation, abstract faces, geometric forms, bold lines.", desc: "ç•¢å¡ç´¢ï¼šæŠ½è±¡ç«‹é«”æ´¾çš„å¹¾ä½•è§£æ§‹ã€‚" },
            "Dali": { spec: "Style of Salvador DalÃ­, surreal desert landscapes, melting clocks, bizarre creatures, dream logic.", desc: "é”åˆ©ï¼šè¶…ç¾å¯¦çš„å¤¢å¹»èˆ‡æ‰­æ›²æ„è±¡ã€‚" },
            "Monet": { spec: "Style of Claude Monet, Impressionist water lilies, soft light reflections, garden scenes, hazy atmosphere.", desc: "è«å…§ï¼šæŸ”å’Œå…‰å½±èˆ‡ç¡è“®æ± çš„å°è±¡ã€‚" },
            "Andy Warhol": { spec: "Style of Andy Warhol, silk screen printing look, high contrast colors, celebrity portraits, repetition.", desc: "å®‰è¿ªæ²ƒè·ï¼šçµ²ç¶²å°åˆ·èˆ‡æ™®æ™®é¢¨è‚–åƒã€‚" },
            "Kusama Yayoi": { spec: "Style of Yayoi Kusama, infinite polka dots, vibrant colors, organic patterns, psychedelic.", desc: "è‰é–“å½Œç”Ÿï¼šæ¨™èªŒæ€§çš„ç„¡é™åœ“é»è—è¡“ã€‚" },

            // --- å‹•ç•«èˆ‡æ¼«ç•« ---
            "Disney Animation": { spec: "Classic Disney animation style, hand-drawn feel, expressive characters, fairytale atmosphere.", desc: "è¿ªå£«å°¼ï¼šç¶“å…¸æ‰‹ç¹ªå‹•ç•«çš„ç«¥è©±æ„Ÿã€‚" },
            "Pixar Animation": { spec: "Pixar 3D animation style, high quality CGI rendering, expressive characters, detailed textures.", desc: "çš®å…‹æ–¯ï¼šé«˜å“è³ªçš„ 3D å‹•ç•«è³ªæ„Ÿã€‚" },
            "Studio Ghibli": { spec: "Studio Ghibli art style, hand-painted watercolor backgrounds, gentle atmosphere, fantastical elements.", desc: "å‰åœåŠ›ï¼šæ¸…æ–°æº«æ½¤çš„æ‰‹ç¹ªæ°´å½©é¢¨ã€‚" },
            "Anime": { spec: "Typical Japanese anime style, cel-shading, large expressive eyes, dynamic action lines.", desc: "æ—¥æœ¬å‹•æ¼«ï¼šæ¨™æº–çš„æ—¥ç³»å‹•ç•«è¦–è¦ºã€‚" },
            "Manga": { spec: "Japanese black and white manga style, screen tones, speed lines, ink pen drawings.", desc: "æ—¥æœ¬æ¼«ç•«ï¼šé»‘ç™½ç¶²é»èˆ‡é€Ÿåº¦ç·šé¢¨æ ¼ã€‚" },
            "American Comic": { spec: "American comic book style, bold outlines, heavy shadows, halftone dot patterns, vibrant action.", desc: "ç¾å¼æ¼«ç•«ï¼šç²—ç·ç·šæ¢èˆ‡å¼·çƒˆç¾æ¼«é¢¨ã€‚" },
            "Claymation": { spec: "Claymation stop-motion style, plasticine texture, visible fingerprints, handmade feel.", desc: "é»åœŸå®šæ ¼ï¼šæ‰‹å·¥æè£½çš„é€æ ¼å‹•ç•«æ„Ÿã€‚" },

            // --- ç‰¹æ®Šèˆ‡è¨­è¨ˆ ---
            "Logo Design": { spec: "Minimalist vector logo design, flat style, clean lines, isolated on white background.", desc: "æ¨™èªŒè¨­è¨ˆï¼šç°¡ç´„ã€å°ˆæ¥­çš„å‘é‡ LOGOã€‚" },
            "Flat Design": { spec: "Modern flat design illustration, simple shapes, bright colors, no complex textures.", desc: "æ‰å¹³è¨­è¨ˆï¼šç°¡æ½”æ˜äº®çš„ç¾ä»£æ’ç•«ã€‚" },
            "Infographic": { spec: "Infographic style, clear data visualization, icons, charts, clean layout, informative.", desc: "è³‡è¨Šåœ–è¡¨ï¼šæ¸…æ™°çš„æ•¸æ“šè¦–è¦ºåŒ–å‘ˆç¾ã€‚" },
            "Blueprint": { spec: "Technical blueprint drawing, white lines on cyan blue grid paper, architectural plans.", desc: "å·¥ç¨‹è—åœ–ï¼šåš´è¬¹çš„æŠ€è¡“è£½åœ–ç¾å­¸ã€‚" },
            "Origami": { spec: "Origami art style, folded paper textures, geometric facets, sharp creases.", desc: "æ‘ºç´™è—è¡“ï¼šç´™å¼µæŠ˜ç–Šçš„å¹¾ä½•ç«‹é«”æ„Ÿã€‚" },
            "Paper Cutout": { spec: "Paper cutout art style, layered colored paper, drop shadows creating depth.", desc: "å‰ªç´™è—è¡“ï¼šå±¤ç–Šç´™å¼µçš„æ‰‹å·¥ç«‹é«”æ„Ÿã€‚" },
            "Pixel Art": { spec: "8-bit or 16-bit pixel art style, low resolution, grid-based, retro game aesthetic.", desc: "åƒç´ è—è¡“ï¼šå¾©å¤éŠæˆ²çš„é»é™£åœ–é¢¨æ ¼ã€‚" },
            "Isometric 3D": { spec: "30-degree isometric 3D render, clean geometric shapes, stylized diorama look.", desc: "ç­‰è·ç«‹é«”ï¼šé©åˆå‘ˆç¾æ¶æ§‹çš„ 3D è¦–è§’ã€‚" },
            "Low Poly": { spec: "Low poly 3D art, geometric polygon mesh, faceted look, minimalist 3D.", desc: "ä½å¤šé‚Šå½¢ï¼šå¹¾ä½•åˆ»é¢çš„ç°¡ç´„ 3D é¢¨æ ¼ã€‚" },
            "3D Render": { spec: "High quality 3D product render, photorealistic, studio lighting, octane render.", desc: "3D æ¸²æŸ“ï¼šé«˜å“è³ªçš„æ•¸ä½ä¸‰ç¶­åœ–åƒã€‚" },
            "LEGO": { spec: "Built from LEGO bricks, plastic toy texture, studs visible, playful construction.", desc: "æ¨‚é«˜ç©æœ¨ï¼šç”±ç©æœ¨æ‹¼ç Œè€Œæˆçš„ä¸–ç•Œã€‚" },

            // --- å°ˆæ¥­å•†å‹™ ---
            "McKinsey": { spec: "Professional business consulting style, clean slides, corporate blue palette, structured data.", desc: "é¡§å•é¢¨ï¼šå°ˆæ¥­é‚è¼¯èˆ‡å•†å‹™ç°¡å ±æ„Ÿã€‚" },
            "Corporate": { spec: "Modern corporate branding style, sleek design, professional stock photo feel.", desc: "ä¼æ¥­è³ªæ„Ÿï¼šç¾ä»£ä¼æ¥­çš„å“ç‰Œå½¢è±¡æ„Ÿã€‚" },
            "Professional": { spec: "Clean and balanced professional design, suitable for high-end presentations.", desc: "å°ˆæ¥­ç°¡å ±ï¼šé©åˆæ­£å¼å ´åˆçš„è¨­è¨ˆã€‚" }
        };

        const ratioSpecs = {
            "1:1": { ar: "--ar 1:1", desc: "é©åˆ Instagram è²¼æ–‡ã€é ­åƒã€é›»å•†ç”¢å“åœ–ã€‚" },
            "4:5": { ar: "--ar 4:5", desc: "Instagram æœ€ä½³åŒ–å‚ç›´è²¼æ–‡ï¼Œä½”æ“šæ›´å¤šæ‰‹æ©Ÿç‰ˆé¢ã€‚" },
            "9:16": { ar: "--ar 9:16", desc: "é©ç”¨ï¼šReelsã€TikTokã€Stories æ‰‹æ©Ÿå…¨è¢å¹•é«”é©—ã€‚" },
            "16:9": { ar: "--ar 16:9", desc: "é©åˆ YouTube å½±ç‰‡ã€é›»è…¦è¢å¹•æ¡Œå¸ƒã€é›»å½±è¦–è§’ã€‚" },
            "3:2": { ar: "--ar 3:2", desc: "å°ˆæ¥­æ”å½±ç›¸ç‰‡æ²–å°å¸¸ç”¨æ¯”ä¾‹ã€‚" },
            "21:9": { ar: "--ar 21:9", desc: "è¶…å¯¬æ¯”ä¾‹ï¼Œæœ€é©åˆ Notion å°é¢èˆ‡é›»å½±æ„Ÿè¦–è¦ºã€‚" }
        };

        let selectedType = 'general';
        let selectedRatio = '9:16';
        let history = JSON.parse(localStorage.getItem('prompt_history_v66') || '[]');

        function vibrate() { if (navigator.vibrate) navigator.vibrate(15); }

        function setType(type, btn) {
            selectedType = type;
            document.querySelectorAll('.type-btn').forEach(b => {
                b.className = 'type-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all';
            });
            btn.className = 'type-btn ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/40 p-3 rounded-xl text-indigo-700 dark:text-indigo-300 text-[10px] font-bold transition-all shadow-sm';
        }

        function setRatio(ratio, btn) {
            vibrate();
            selectedRatio = ratio;
            document.querySelectorAll('.ratio-btn').forEach(b => {
                b.className = 'ratio-btn border border-gray-100 dark:border-slate-700 p-3 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all';
            });
            btn.className = 'ratio-btn ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/40 p-3 rounded-xl text-indigo-700 dark:text-indigo-300 text-[10px] font-bold transition-all shadow-sm';
            document.getElementById('arHint').innerText = "é©ç”¨ï¼š" + ratioSpecs[ratio].desc;
        }

        function randomStyleOnly() {
            vibrate();
            const icon = document.getElementById('diceIcon');
            icon.classList.add('rolling');
            setTimeout(() => icon.classList.remove('rolling'), 500);
            const styleSelect = document.getElementById('style');
            const options = Array.from(styleSelect.querySelectorAll('option')).filter(o => o.value !== "");
            styleSelect.value = options[Math.floor(Math.random() * options.length)].value;
            updatePreview();
        }

        function updatePreview() {
            const style = document.getElementById('style').value;
            const card = document.getElementById('previewCard');
            if(styleSpecs[style]) {
                document.getElementById('previewText').innerText = "ğŸ’¡ " + styleSpecs[style].desc;
                card.classList.remove('hidden');
            }
        }

        function generate() {
            const content = document.getElementById('content').value.trim() || "Amazing AI Creation";
            const style = document.getElementById('style').value;
            if(!style) return alert('è«‹å…ˆæŒ‘é¸ä¸€å€‹é¢¨æ ¼å–”ï¼');
            
            const typeLabel = (selectedType === 'general') ? "image" : selectedType;
            const prompt = `/imagine prompt: A ${style} style ${typeLabel} about '${content}'. \n- ${styleSpecs[style].spec} \n- Aspect ratio: ${selectedRatio} ${ratioSpecs[selectedRatio].ar} --v 6.0`;
            
            document.getElementById('finalPrompt').innerText = prompt;
            document.getElementById('resultBox').classList.remove('hidden');
            saveToHistory(style, content, prompt);
        }

        function saveToHistory(s, c, p) {
            history.unshift({ style: s, content: c, prompt: p });
            if (history.length > 5) history.pop();
            localStorage.setItem('prompt_history_v66', JSON.stringify(history));
            renderHistory();
        }

        function renderHistory() {
            const list = document.getElementById('historyList');
            list.innerHTML = history.map((item, index) => `
                <div class="p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border flex justify-between items-center shadow-sm active:scale-95 transition-all" onclick="loadFromHistory(${index})">
                    <div class="overflow-hidden">
                        <p class="text-[9px] font-black text-indigo-500 uppercase">${item.style}</p>
                        <p class="text-[12px] text-gray-700 dark:text-slate-300 font-bold truncate w-48">${item.content}</p>
                    </div>
                    <i class="fas fa-magic text-[10px] text-indigo-300"></i>
                </div>`).join('');
        }

        function loadFromHistory(i) {
            vibrate();
            document.getElementById('finalPrompt').innerText = history[i].prompt;
            document.getElementById('resultBox').classList.remove('hidden');
        }

        function clearHistory() { history = []; localStorage.removeItem('prompt_history_v66'); renderHistory(); }
        function copyText() { navigator.clipboard.writeText(document.getElementById('finalPrompt').innerText); alert('æŒ‡ä»¤å·²è¤‡è£½ï¼'); }
        function shareLine() { window.open(`https://line.me/R/msg/text/?${encodeURIComponent(document.getElementById('finalPrompt').innerText)}`); }
        function shareFB() { window.open(`https://www.facebook.com/sharer/sharer.php?u=${window.location.href}`); }

        renderHistory();
    </script>
</body>
</html>
