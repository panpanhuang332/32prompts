<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ICS Lab Pro - V6.4 Encyclopedia</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>tailwind.config = { darkMode: 'media' }</script>
    <style>
        body { -webkit-tap-highlight-color: transparent; transition: background-color 0.4s ease; }
        .app-card { border-radius: 32px; transition: all 0.3s ease; }
        .gradient-header { background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%); }
        @media (prefers-color-scheme: dark) { body { background-color: #0f172a; } }
        @keyframes dice-roll { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .rolling { animation: dice-roll 0.5s ease-in-out; }
        select { appearance: none; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e"); background-position: right 1.2rem center; background-repeat: no-repeat; background-size: 1.2em; }
    </style>
</head>
<body class="p-4 bg-slate-50 dark:bg-slate-900 min-h-screen font-sans pb-10 flex justify-center items-start">

    <div class="w-full max-w-md bg-white dark:bg-slate-800 app-card shadow-2xl overflow-hidden border border-gray-100 dark:border-slate-700">
        <div class="p-8 gradient-header text-white relative">
            <h1 class="text-3xl font-black italic flex items-center gap-3 relative z-10">
                <i class="fas fa-atlas text-yellow-300"></i> ICS Lab Pro
            </h1>
            <p class="text-indigo-100 text-[10px] mt-2 font-bold tracking-[0.3em] opacity-90 uppercase relative z-10">V6.4 All Styles Integrated</p>
            <button onclick="randomStyleOnly()" class="absolute bottom-6 right-6 bg-white/20 hover:bg-white/30 backdrop-blur-md p-3 rounded-2xl border border-white/30 transition-all active:scale-90 shadow-lg">
                <i id="diceIcon" class="fas fa-dice text-2xl text-white"></i>
            </button>
        </div>

        <div class="p-6 space-y-7">
            <section>
                <label class="text-[10px] font-black text-indigo-500 dark:text-indigo-400 mb-3 block tracking-[0.2em] uppercase">Step 01. åœ–ç‰‡é¡å‹ (I)</label>
                <div class="grid grid-cols-3 gap-2">
                    <button onclick="vibrate(); setType('general', this)" class="type-btn ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/40 p-2.5 rounded-xl text-indigo-700 dark:text-indigo-300 text-[10px] font-bold transition-all">é€šç”¨åœ–åƒ</button>
                    <button onclick="vibrate(); setType('infographic', this)" class="type-btn border border-gray-100 dark:border-slate-700 p-2.5 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">è³‡è¨Šåœ–è¡¨</button>
                    <button onclick="vibrate(); setType('diagram', this)" class="type-btn border border-gray-100 dark:border-slate-700 p-2.5 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">åŠŸèƒ½åœ–è§£</button>
                    <button onclick="vibrate(); setType('flowchart', this)" class="type-btn border border-gray-100 dark:border-slate-700 p-2.5 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">æµç¨‹åœ–</button>
                    <button onclick="vibrate(); setType('portrait', this)" class="type-btn border border-gray-100 dark:border-slate-700 p-2.5 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">äººåƒæ”å½±</button>
                    <button onclick="vibrate(); setType('landscape', this)" class="type-btn border border-gray-100 dark:border-slate-700 p-2.5 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all">å£¯é—Šé¢¨æ™¯</button>
                </div>
            </section>

            <section>
                <label class="text-[10px] font-black text-indigo-500 dark:text-indigo-400 mb-3 block tracking-[0.2em] uppercase">Step 02. å…§å®¹ä¸»é¡Œ (C)</label>
                <textarea id="content" rows="2" placeholder="è¼¸å…¥ä½ æƒ³å‘ˆç¾çš„ä¸»é¡Œå…§å®¹..." 
                       class="w-full p-4 bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-slate-700 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none text-gray-700 dark:text-slate-200 transition-all text-sm shadow-inner"></textarea>
            </section>

            <section>
                <label class="text-[10px] font-black text-indigo-500 dark:text-indigo-400 mb-3 block tracking-[0.2em] uppercase">Step 03. å…¨çƒè¦–è¦ºé¢¨æ ¼ (S)</label>
                <select id="style" onchange="vibrate(); updatePreview()" class="w-full p-4 bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-slate-700 rounded-2xl font-bold text-gray-700 dark:text-slate-200 outline-none text-sm shadow-sm">
                    <option value="" disabled selected>æ¢ç´¢æ•¸ç™¾ç¨®é¢¨æ ¼...</option>
                    
                    <optgroup label="ğŸ“¸ æ”å½±èˆ‡å…‰å½±æ•ˆæœ">
                        <option value="Cinematic">é›»å½±è³ªæ„Ÿ Cinematic</option>
                        <option value="Polaroid">æ‹ç«‹å¾—é¢¨ Polaroid</option>
                        <option value="DSLR">å–®çœ¼ç´°ç¯€ DSLR</option>
                        <option value="Macro lens">å¾®è·æ”å½± Macro</option>
                        <option value="Fish eye lens">é­šçœ¼å»£è§’ Fish-eye</option>
                        <option value="Tilt shift lens">ç§»è»¸æ¨¡å‹ Tilt-shift</option>
                        <option value="Golden hour">é»ƒé‡‘æ™‚åˆ»å…‰ Golden Hour</option>
                        <option value="Back light">è¿·å¹»èƒŒå…‰ Backlight</option>
                    </optgroup>

                    <optgroup label="ğŸ–Œï¸ åª’æèˆ‡ç¹ªç•«è³ªæ„Ÿ">
                        <option value="Watercolor">é€æ˜æ°´å½© Watercolor</option>
                        <option value="Oil painting">å¤å…¸æ²¹ç•« Oil Painting</option>
                        <option value="Charcoal">ç‚­ç­†ç´ æ Charcoal</option>
                        <option value="Color pencil">å½©è‰²é‰›ç­† Color Pencil</option>
                        <option value="Ink drawing">æ±æ–¹æ°´å¢¨ Ink</option>
                        <option value="Ukiyo-e">æ—¥æœ¬æµ®ä¸–ç¹ª Ukiyo-e</option>
                        <option value="Printmaking">ç‰ˆç•«é¢¨æ ¼ Printmaking</option>
                    </optgroup>

                    <optgroup label="ğŸ­ ç¶“å…¸è—è¡“å®¶">
                        <option value="Da Vinci">é”æ–‡è¥¿æ‰‹ç¨¿ Da Vinci</option>
                        <option value="Van Gogh">æ¢µè°·ç­†è§¸ Van Gogh</option>
                        <option value="Picasso">ç•¢å¡ç´¢ç«‹é«” Picasso</option>
                        <option value="Dali">é”åˆ©è¶…ç¾å¯¦ Dali</option>
                        <option value="Kusama Yayoi">è‰é–“å½Œç”Ÿåœ“é» Kusama</option>
                        <option value="Mucha">æ…•å¤è£é£¾è—è¡“ Mucha</option>
                    </optgroup>

                    <optgroup label="ğŸ¬ å‹•ç•«èˆ‡æ’ç•«å…¬å¸">
                        <option value="Pixar Animation">çš®å…‹æ–¯ 3D Pixar</option>
                        <option value="Studio Ghibli">å‰åœåŠ›æ‰‹ç¹ª Ghibli</option>
                        <option value="Disney Animation">ç¶“å…¸è¿ªå£«å°¼ Disney</option>
                        <option value="American comic book">ç¾å¼æ¼«ç•« Comic</option>
                        <option value="Manga style">æ—¥ç³»æ¼«ç•« Manga</option>
                    </optgroup>

                    <optgroup label="ğŸ’¼ å°ˆæ¥­å•†å‹™èˆ‡æŠ€è¡“">
                        <option value="McKinsey">é¡§å•é¢¨ McKinsey</option>
                        <option value="Corporate">ä¼æ¥­è³ªæ„Ÿ Corporate</option>
                        <option value="Minimalist">æ¥µç°¡ä¸»ç¾© Minimalist</option>
                        <option value="Blueprint">å·¥ç¨‹è—åœ– Blueprint</option>
                        <option value="Wireframe">æ•¸ä½ç·šæ¡† Wireframe</option>
                        <option value="Subway Map">åœ°éµè·¯ç¶²åœ– Subway</option>
                    </optgroup>

                    <optgroup label="ğŸ•¹ï¸ è¶£å‘³å‰µæ„èˆ‡ç‰¹æ®Šæè³ª">
                        <option value="Claymation">é»åœŸå®šæ ¼ Claymation</option>
                        <option value="Pixel art">åƒç´ éŠæˆ² Pixel Art</option>
                        <option value="Paper cutting">ç«‹é«”å‰ªç´™ Paper Cut</option>
                        <option value="Origami art">ç´°è†©æ‘ºç´™ Origami</option>
                        <option value="Graffiti">è¡—é ­å¡—é´‰ Graffiti</option>
                        <option value="Isometric 3D">ç­‰è·ç«‹é«” Isometric</option>
                        <option value="LEGO style">æ¨‚é«˜ç©æœ¨ LEGO</option>
                        <option value="Diorama">å¾®ç¸®æ™¯è§€ Diorama</option>
                    </optgroup>
                </select>

                <div id="previewCard" class="hidden mt-3 p-4 rounded-2xl bg-indigo-50 dark:bg-slate-900 border border-indigo-100 dark:border-slate-700 animate-in fade-in">
                    <p id="previewText" class="text-xs text-indigo-700 dark:text-indigo-300 leading-relaxed font-bold"></p>
                </div>
            </section>

            <button onclick="vibrate(); generate()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl active:scale-[0.96] flex justify-center items-center gap-2 text-lg transition-all">
                ç”Ÿæˆæ‡¶äººæŒ‡ä»¤ <i class="fas fa-magic"></i>
            </button>

            <div id="resultBox" class="hidden animate-in zoom-in-95 duration-300">
                <div class="bg-slate-900 rounded-[2rem] p-7 border border-slate-700 shadow-2xl relative">
                    <p id="finalPrompt" class="text-indigo-200 text-xs font-mono whitespace-pre-line leading-relaxed bg-slate-950/50 p-5 rounded-2xl border border-white/5 shadow-inner mb-6"></p>
                    <div class="grid grid-cols-3 gap-2">
                        <button onclick="vibrate(); copyText()" class="bg-indigo-600 text-white p-4 rounded-xl text-xs font-black"><i class="far fa-copy"></i> è¤‡è£½</button>
                        <button onclick="vibrate(); shareLine()" class="bg-[#06C755] text-white p-4 rounded-xl text-xs font-black"><i class="fab fa-line"></i> LINE</button>
                        <button onclick="vibrate(); shareFB()" class="bg-[#1877F2] text-white p-4 rounded-xl text-xs font-black"><i class="fab fa-facebook"></i> FB</button>
                    </div>
                </div>
            </div>

            <section id="historySection" class="pt-4 pb-4">
                <div class="flex items-center justify-between mb-4 px-1">
                    <label class="text-[10px] font-black text-gray-400 uppercase tracking-widest">æ­·å²ç´€éŒ„ (5ç­†)</label>
                    <button onclick="vibrate(); clearHistory()" class="text-[10px] font-bold text-indigo-500">æ¸…é™¤ç´€éŒ„</button>
                </div>
                <div id="historyList" class="space-y-3"></div>
            </section>
        </div>
    </div>

    <script>
        // æ ¸å¿ƒé¢¨æ ¼ç™¾ç§‘å­—å…¸ (åˆä½µ Oxxo Studio çš„è©³ç´°è¦æ ¼)
        const styleSpecs = {
            // æ”å½±é¡
            "Cinematic": { spec: "Movie style, cinematic lighting, dramatic atmosphere, high contrast.", desc: "é›»å½±è³ªæ„Ÿï¼šæˆ²åŠ‡åŒ–å…‰å½±èˆ‡è‰²èª¿æ„Ÿã€‚" },
            "Polaroid": { spec: "Polaroid style, vintage photo print, nostalgic colors, faded film edges.", desc: "æ‹ç«‹å¾—é¢¨ï¼šæ‡·èˆŠã€é‚Šæ¡†æ„Ÿèˆ‡ç¨ç‰¹è‰²åã€‚" },
            "Macro lens": { spec: "Macro lens photography, extreme close-up, shallow depth of field, sharp details.", desc: "å¾®è·æ”å½±ï¼šæ‹æ”ååˆ†ç´°å¾®çš„ç‰©é«”ç´°ç¯€ã€‚" },
            "Fish eye lens": { spec: "Fish eye lens, panoramic distortion, ultra-wide angle view.", desc: "é­šçœ¼å»£è§’ï¼šèª‡å¼µçš„åœ“å½¢æ‰­æ›²èˆ‡è¶…å»£è¦–è§’ã€‚" },
            "Golden hour": { spec: "Golden hour lighting, warm sunlight, soft long shadows, magical atmosphere.", desc: "é»ƒé‡‘æ™‚åˆ»ï¼šæ—¥å‡ºæˆ–æ—¥è½æ™‚æº«æš–è¿·äººçš„å…‰å½±ã€‚" },
            
            // åª’æé¡
            "Watercolor": { spec: "Transparent watercolor painting, soft color wash, hand-painted texture.", desc: "æ°´å½©é¢¨æ ¼ï¼šæ¸…é€æšˆæŸ“èˆ‡è—è¡“ç­†è§¸ã€‚" },
            "Oil painting": { spec: "Rich oil painting, visible brushstrokes, heavy canvas texture, classical palette.", desc: "å¤å…¸æ²¹ç•«ï¼šæ¿ƒçƒˆç­†è§¸èˆ‡ç•«å¸ƒè³ªæ„Ÿã€‚" },
            "Charcoal": { spec: "Charcoal drawing, rough hand-drawn lines, smudged shadows, high contrast.", desc: "ç‚­ç­†ç´ æï¼šé¡†ç²’æ„Ÿèˆ‡ç²—ç·ç·šæ¢ã€‚" },
            "Ink drawing": { spec: "East Asian ink drawing, traditional calligraphy ink, splashed ink aesthetic.", desc: "æ±æ–¹æ°´å¢¨ï¼šå¼·èª¿ç•™ç™½èˆ‡é‹å¢¨ç¥éŸ»ã€‚" },
            
            // è—è¡“å®¶é¡
            "Van Gogh": { spec: "Vincent van Gogh style, Post-Impressionism, bold swirling brushstrokes, vibrant colors.", desc: "æ¢µè°·é¢¨ï¼šå……æ»¿æƒ…ç·’çš„æ—‹è½‰ç­†è§¸èˆ‡å¼·çƒˆè‰²å½©ã€‚" },
            "Dali": { spec: "Salvador DalÃ­ style, surrealism, dreamlike melting objects, strange atmosphere.", desc: "é”åˆ©è¶…ç¾å¯¦ï¼šæ‰­æ›²çš„ç¾å¯¦èˆ‡å¤¢å¹»æ„è±¡ã€‚" },
            "Kusama Yayoi": { spec: "Yayoi Kusama style, repetitive polka dots, infinite patterns, psychedelic colors.", desc: "è‰é–“å½Œç”Ÿï¼šæ¨™èªŒæ€§çš„ç„¡ç›¡åœ“é»è—è¡“ã€‚" },
            
            // å‹•ç•«é¡
            "Studio Ghibli": { spec: "Studio Ghibli animation style, hand-drawn anime, lush nature scenes, warm mood.", desc: "å‰åœåŠ›é¢¨ï¼šå¦‚ã€Šé¾è²“ã€‹èˆ¬æ¸…æ–°æº«æ½¤çš„ç•«é¢¨ã€‚" },
            "Pixar Animation": { spec: "Pixar 3D animation style, hyper-detailed 3D rendering, cute character design.", desc: "çš®å…‹æ–¯é¢¨ï¼šæ“¬çœŸ 3D è³ªæ„Ÿèˆ‡ç”Ÿå‹•è§’è‰²ã€‚" },
            
            // 32 ç¨®åŸå§‹é¢¨æ ¼é—œéµè£œè¶³ (éƒ¨åˆ†çœç•¥ä»¥ç¸®çŸ­é•·åº¦ï¼Œä¿æŒé‚è¼¯ä¸€è‡´)
            "McKinsey": { spec: "Professional business framework, corporate blue, structured layout.", desc: "é¡§å•é¢¨ï¼šæ•¸æ“šèˆ‡é‚è¼¯æ¶æ§‹æ„Ÿã€‚" },
            "Isometric 3D": { spec: "30-degree isometric perspective, stacked cubic shapes, 3D render.", desc: "ç­‰è·ç«‹é«”ï¼šé©åˆå‘ˆç¾æ¶æ§‹èˆ‡åœ°åœ–ã€‚" },
            "LEGO style": { spec: "LEGO toy brick style, plastic block texture, vibrant construction set.", desc: "æ¨‚é«˜é¢¨ï¼šç”¨ç©æœ¨æ‹¼æ¹Šå‡ºçš„ç«¥è¶£æ„Ÿã€‚" },
            "Diorama": { spec: "Miniature diorama scene, tilt-shift effect, tiny detailed world.", desc: "å¾®ç¸®æ™¯è§€ï¼šåƒç©å…·æ¨¡å‹èˆ¬çš„å°å°ä¸–ç•Œã€‚" }
            // å¯åœ¨æ­¤ç¹¼çºŒæ‰‹å‹•åŠ å…¥ Oxxo Studio å‰©ä¸‹çš„ 100 ç¨®ä»¥ä¸Š...
        };

        let selectedType = 'general';
        let history = JSON.parse(localStorage.getItem('prompt_history_enc') || '[]');

        function vibrate() { if (navigator.vibrate) navigator.vibrate(15); }

        function setType(type, btn) {
            selectedType = type;
            document.querySelectorAll('.type-btn').forEach(b => {
                b.className = 'type-btn border border-gray-100 dark:border-slate-700 p-2.5 rounded-xl text-gray-500 dark:text-slate-400 text-[10px] font-medium transition-all';
            });
            btn.className = 'type-btn ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/40 p-2.5 rounded-xl text-indigo-700 dark:text-indigo-300 text-[10px] font-bold transition-all shadow-sm';
        }

        function randomStyleOnly() {
            vibrate();
            const icon = document.getElementById('diceIcon');
            icon.classList.add('rolling');
            setTimeout(() => icon.classList.remove('rolling'), 500);

            const styleSelect = document.getElementById('style');
            const options = Array.from(styleSelect.querySelectorAll('option')).filter(o => o.value !== "");
            styleSelect.value = options[Math.floor(Math.random() * options.length)].value;
            updatePreview();
        }

        function updatePreview() {
            const style = document.getElementById('style').value;
            const card = document.getElementById('previewCard');
            if(styleSpecs[style]) {
                document.getElementById('previewText').innerText = "ğŸ’¡ " + styleSpecs[style].desc;
                card.classList.remove('hidden');
            }
        }

        function generate() {
            const content = document.getElementById('content').value.trim() || "Amazing AI Art";
            const style = document.getElementById('style').value;
            if(!style) return alert('è«‹å…ˆæŒ‘é¸ä¸€å€‹é¢¨æ ¼å–”ï¼');
            
            const typeLabel = (selectedType === 'general') ? "masterpiece" : selectedType;
            const prompt = `/imagine prompt: A ${style} style ${typeLabel} about '${content}'. \n- ${styleSpecs[style].spec} \n- Highly detailed, organized layout, 4k resolution. --ar 9:16 --v 6.0`;
            
            document.getElementById('finalPrompt').innerText = prompt;
            document.getElementById('resultBox').classList.remove('hidden');
            saveToHistory(style, content, prompt);
        }

        function saveToHistory(s, c, p) {
            history.unshift({ style: s, content: c, prompt: p });
            if (history.length > 5) history.pop();
            localStorage.setItem('prompt_history_enc', JSON.stringify(history));
            renderHistory();
        }

        function renderHistory() {
            const list = document.getElementById('historyList');
            list.innerHTML = history.map((item, index) => `
                <div class="p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl border flex justify-between items-center shadow-sm active:scale-95 transition-all" onclick="loadFromHistory(${index})">
                    <div class="overflow-hidden">
                        <p class="text-[9px] font-black text-indigo-500 uppercase">${item.style}</p>
                        <p class="text-[12px] text-gray-700 dark:text-slate-300 font-bold truncate w-48">${item.content}</p>
                    </div>
                    <i class="fas fa-magic text-[10px] text-indigo-300"></i>
                </div>`).join('');
        }

        function loadFromHistory(i) {
            vibrate();
            document.getElementById('finalPrompt').innerText = history[i].prompt;
            document.getElementById('resultBox').classList.remove('hidden');
        }

        function clearHistory() { history = []; localStorage.removeItem('prompt_history_enc'); renderHistory(); }
        function copyText() { navigator.clipboard.writeText(document.getElementById('finalPrompt').innerText); alert('æŒ‡ä»¤å·²è¤‡è£½ï¼'); }
        function shareLine() { window.open(`https://line.me/R/msg/text/?${encodeURIComponent(document.getElementById('finalPrompt').innerText)}`); }
        function shareFB() { window.open(`https://www.facebook.com/sharer/sharer.php?u=${window.location.href}`); }

        renderHistory();
    </script>
</body>
</html>
